<div class="cart-container">
  <h1>Seu Carrinho</h1>
  <table class="cart-table" id="cart-table">
    <thead>
      <tr>
        <th></th>
        <th>Produto</th>
        <th>Preço</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cartItems; let i = index">
        <td><img [src]="item.image" [alt]="item.title" onerror="this.onerror=null;this.src='https://via.placeholder.com/60x40'"></td>
        <td>{{ item.title }}</td>
        <td>{{ formatCurrency(item.price || item.oldPrice || 0) }}</td>
        <td><button class="remove-btn" (click)="removeItem(i)">&times;</button></td>
      </tr>
    </tbody>
  </table>
  <div class="total" id="cart-total">Total: {{ formatCurrency(getTotalPrice()) }}</div>
  <div class="payment-section">
    <h2>Pagamento</h2>
    <form id="payment-form" (ngSubmit)="onSubmit()">
      <label for="method">Método de Pagamento</label>
      <select id="method" [(ngModel)]="paymentMethod" name="method" required>
        <option value="credito">Cartão de Crédito</option>
        <option value="pix">PIX</option>
        <option value="boleto">Boleto</option>
      </select>
      <label for="name">Nome Completo</label>
      <input type="text" id="name" [(ngModel)]="customerName" name="name" required>
      <label for="email">E-mail</label>
      <input type="email" id="email" [(ngModel)]="customerEmail" name="email" required>
      <button type="submit">Finalizar Compra</button>
    </form>
  </div>
</div>
